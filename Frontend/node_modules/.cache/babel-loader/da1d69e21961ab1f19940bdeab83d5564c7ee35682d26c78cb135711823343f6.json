{"ast":null,"code":"var _jsxFileName = \"D:\\\\React\\\\Workspace1\\\\Blog-App\\\\blog-app\\\\src\\\\components\\\\NewFeed.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { deletePostById, loadAllPosts } from \"../Services/post-service\";\nimport { Col, Container, Pagination, PaginationItem, PaginationLink, Row } from \"reactstrap\";\nimport { Post } from \"./Post\";\nimport { toast } from \"react-toastify\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction NewFeed() {\n  _s();\n  const [postContent, setPostContent] = useState({\n    content: [],\n    totalPages: \"\",\n    totalElements: \"\",\n    pageSize: \"\",\n    lastPage: false,\n    pageNumber: \"\"\n  });\n  console.log(postContent);\n  const [currentPage, setCurrentPage] = useState(0);\n  useEffect(() => {\n    //load all posts\n    changePage(currentPage);\n  }, [currentPage]);\n  function deletePost(post) {\n    // going to delete post\n    deletePostById(post.id).then(res => {\n      console.log(res);\n      toast.success(\"Post is Deleted\");\n    }).catch(error => {\n      console.log(error);\n      toast.error(\"error in deleting post\");\n    });\n  }\n  const changePage = (pageNumber = 0, pageSize = 5) => {\n    loadAllPosts(pageNumber, pageSize).then(data => {\n      console.log(data);\n      setPostContent({\n        content: [...postContent.content, ...data.content],\n        totalPages: data.totalPages,\n        totalElements: data.totalElements,\n        pageSize: data.pageSize,\n        lastPage: data.lastPage,\n        pageNumber: data.pageNumber\n      });\n\n      // window.scroll(0,0);\n    }).catch(error => {\n      toast.error(\"Error in loading Post\");\n    });\n  };\n  const changePageInfinite = () => {\n    console.log(\"Page changed\");\n    setCurrentPage(currentPage + 1);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container-fluid\",\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        md: {\n          size: 12\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [\"Blogs Count (\", postContent === null || postContent === void 0 ? void 0 : postContent.totalElements, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(InfiniteScroll, {\n          dataLength: postContent.content.length,\n          next: changePageInfinite,\n          hasMore: !postContent.lastPage,\n          loader: /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Loading...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 21\n          }, this),\n          endMessage: /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              textAlign: \"center\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Yay! You have seen it all\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 15\n          }, this),\n          children: postContent === null || postContent === void 0 ? void 0 : postContent.content.map(post => /*#__PURE__*/_jsxDEV(Post, {\n            deletePost: deletePost,\n            post: post\n          }, post.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n}\n_s(NewFeed, \"84PseU9DPMxvHuaeCAhF7FxZLf4=\");\n_c = NewFeed;\nexport default NewFeed;\nvar _c;\n$RefreshReg$(_c, \"NewFeed\");","map":{"version":3,"names":["React","useEffect","useState","deletePostById","loadAllPosts","Col","Container","Pagination","PaginationItem","PaginationLink","Row","Post","toast","InfiniteScroll","jsxDEV","_jsxDEV","NewFeed","_s","postContent","setPostContent","content","totalPages","totalElements","pageSize","lastPage","pageNumber","console","log","currentPage","setCurrentPage","changePage","deletePost","post","id","then","res","success","catch","error","data","changePageInfinite","className","children","md","size","fileName","_jsxFileName","lineNumber","columnNumber","dataLength","length","next","hasMore","loader","endMessage","style","textAlign","map","_c","$RefreshReg$"],"sources":["D:/React/Workspace1/Blog-App/blog-app/src/components/NewFeed.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { deletePostById, loadAllPosts } from \"../Services/post-service\";\r\nimport {\r\n  Col,\r\n  Container,\r\n  Pagination,\r\n  PaginationItem,\r\n  PaginationLink,\r\n  Row,\r\n} from \"reactstrap\";\r\nimport { Post } from \"./Post\";\r\nimport { toast } from \"react-toastify\";\r\nimport InfiniteScroll from \"react-infinite-scroll-component\";\r\n\r\nfunction NewFeed() {\r\n  const [postContent, setPostContent] = useState({\r\n    content: [],\r\n    totalPages: \"\",\r\n    totalElements: \"\",\r\n    pageSize: \"\",\r\n    lastPage: false,\r\n    pageNumber: \"\",\r\n  });\r\n  console.log(postContent);\r\n  const [currentPage, setCurrentPage] = useState(0);\r\n  useEffect(() => {\r\n    //load all posts\r\n    changePage(currentPage);\r\n  }, [currentPage]);\r\n  function deletePost(post) {\r\n    // going to delete post\r\n    deletePostById(post.id)\r\n      .then((res) => {\r\n        console.log(res);\r\n        toast.success(\"Post is Deleted\");\r\n        \r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        toast.error(\"error in deleting post\");\r\n      });\r\n  }\r\n  const changePage = (pageNumber = 0, pageSize = 5) => {\r\n    loadAllPosts(pageNumber, pageSize)\r\n      .then((data) => {\r\n        console.log(data);\r\n        setPostContent({\r\n          content: [...postContent.content, ...data.content],\r\n          totalPages: data.totalPages,\r\n          totalElements: data.totalElements,\r\n          pageSize: data.pageSize,\r\n          lastPage: data.lastPage,\r\n          pageNumber: data.pageNumber,\r\n        });\r\n\r\n        // window.scroll(0,0);\r\n      })\r\n      .catch((error) => {\r\n        toast.error(\"Error in loading Post\");\r\n      });\r\n  };\r\n  const changePageInfinite = () => {\r\n    console.log(\"Page changed\");\r\n    setCurrentPage(currentPage + 1);\r\n  };\r\n  return (\r\n    <div className=\"container-fluid\">\r\n      <Row>\r\n        <Col\r\n          md={{\r\n            size: 12,\r\n          }}\r\n        >\r\n          <h1>Blogs Count ({postContent?.totalElements})</h1>\r\n\r\n          <InfiniteScroll\r\n            dataLength={postContent.content.length}\r\n            next={changePageInfinite}\r\n            hasMore={!postContent.lastPage}\r\n            loader={<h4>Loading...</h4>}\r\n            endMessage={\r\n              <p style={{ textAlign: \"center\" }}>\r\n                <b>Yay! You have seen it all</b>\r\n              </p>\r\n            }\r\n          >\r\n            {postContent?.content.map((post) => (\r\n              <Post deletePost={deletePost} post={post} key={post.id} />\r\n            ))}\r\n          </InfiniteScroll>\r\n\r\n          {/* <Container className=\"mt-3\">\r\n            <Pagination>\r\n              <PaginationItem disabled={postContent.pageNumber===0} >\r\n                <PaginationLink previous onClick={() => changePage(postContent.pageNumber - 1)} >Previous</PaginationLink>\r\n                \r\n              </PaginationItem>\r\n              {[...Array(postContent.totalPages)].map((item, index) => (\r\n                <PaginationItem onClick={()=>changePage(index)} active={index==postContent.pageNumber} key={index}>\r\n                  <PaginationLink>{index + 1}</PaginationLink>\r\n                </PaginationItem>\r\n              ))}\r\n\r\n              <PaginationItem disabled={postContent.lastPage}>\r\n                <PaginationLink next onClick={() => changePage(postContent.pageNumber + 1)}>Next</PaginationLink>\r\n                \r\n              </PaginationItem>\r\n            </Pagination>\r\n          </Container> */}\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n}\r\nexport default NewFeed;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}